### **Переменные и константы в ассемблере (x86/x86-64, NASM)**  

В ассемблере переменные объявляются в **сегменте данных (`.data`)** или **неинициализированной памяти (`.bss`)**, а константы определяются директивами или помещаются в **сегмент кода (`.text`)**.  

---

## **1. Объявление переменных**  

### **1.1. Секция `.data` (инициализированные данные)**  
Переменные объявляются с заданным значением.  

```assembly
section .data  
var1 db 10         ; 8-битная переменная (1 байт)  
var2 dw 1000       ; 16-битная переменная (2 байта)  
var3 dd 123456789  ; 32-битная переменная (4 байта)  
var4 dq 10000000000 ; 64-битная переменная (8 байт)
text db "Hello", 0 ; Строка с нулевым окончанием
```

**Обозначения:**  
- `db` (Define Byte) – 1 байт  
- `dw` (Define Word) – 2 байта  
- `dd` (Define Doubleword) – 4 байта  
- `dq` (Define Quadword) – 8 байт  

---

### **1.2. Секция `.bss` (неинициализированные данные)**  
Выделяет память под переменные без задания значений.  

```assembly
section .bss  
buffer resb 10  ; 10 байтов  
array  resw 5   ; 5 слов (по 2 байта)  
matrix resd 16  ; 16 doubleword (по 4 байта)  
bigvar resq 2   ; 2 quadword (по 8 байт)
```

**Обозначения:**  
- `resb` – резервирует байты  
- `resw` – резервирует слова (2 байта)  
- `resd` – резервирует doubleword (4 байта)  
- `resq` – резервирует quadword (8 байт)  

---

## **2. Константы**  

### **2.1. Директива `equ`**  
Определяет **именованную константу** (во время ассемблирования).  

```assembly
PI  equ 3.14159  
SIZE equ 256  
```

Использование:  
```assembly
mov eax, SIZE  ; eax = 256  
```

---

### **2.2. Числовые константы**  
В NASM можно записывать числа в разных системах:  
```assembly
mov eax, 42      ; Десятичное (по умолчанию)  
mov ebx, 0x2A    ; Шестнадцатеричное (0x или h)  
mov ecx, 052     ; Восьмеричное (начинается с 0)  
mov edx, 0b101010 ; Двоичное (0b)  
```

---

### **2.3. Константы в сегменте `.rodata` (ELF/Linux)**  
В ELF-файлах можно выделить неизменяемый сегмент `.rodata` для данных.  

```assembly
section .rodata  
message db "Read-only text", 0
```

---

### **3. Разница между `equ`, `.data` и `.rodata`**  
| Метод | Изменяемость | Расположение |  
|--------|-------------|--------------|  
| `equ`  | ❌ (постоянная) | Во время ассемблирования |  
| `.data` | ✅ (переменная) | В сегменте данных |  
| `.rodata` | ❌ (константа) | В сегменте `.rodata` (только ELF) |  
