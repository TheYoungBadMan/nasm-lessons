## **–ú–∞—Å—Å–∏–≤—ã –≤ –∞—Å—Å–µ–º–±–ª–µ—Ä–µ NASM (x86-64)**  

–ú–∞—Å—Å–∏–≤—ã –≤ –∞—Å—Å–µ–º–±–ª–µ—Ä–µ ‚Äî —ç—Ç–æ **–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –ø–∞–º—è—Ç–∏**. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç C, –≥–¥–µ –º–∞—Å—Å–∏–≤—ã –∏–º–µ—é—Ç —Ç–∏–ø, –≤ –∞—Å—Å–µ–º–±–ª–µ—Ä–µ –º—ã —Ä–∞–±–æ—Ç–∞–µ–º —Å —Å—ã—Ä—ã–º–∏ –±–∞–π—Ç–∞–º–∏, —Å–ª–æ–≤–∞–º–∏ –∏–ª–∏ –¥–≤–æ–π–Ω—ã–º–∏ —Å–ª–æ–≤–∞–º–∏, –∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç —Å–∞–º –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é.

---

## **1. –û–±—ä—è–≤–ª–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–æ–≤**  

–í NASM –º–∞—Å—Å–∏–≤—ã –º–æ–∂–Ω–æ –æ–±—ä—è–≤–ª—è—Ç—å –≤ —Å–µ–∫—Ü–∏–∏ `.data` (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ) –∏–ª–∏ `.bss` (–Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ).

### **–ü—Ä–∏–º–µ—Ä—ã –æ–±—ä—è–≤–ª–µ–Ω–∏—è –º–∞—Å—Å–∏–≤–æ–≤:**
```assembly
section .data
    arr1 db 10, 20, 30, 40, 50   ; –ú–∞—Å—Å–∏–≤ –±–∞–π—Ç–æ–≤ (1 –±–∞–π—Ç –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç)
    arr2 dw 100, 200, 300        ; –ú–∞—Å—Å–∏–≤ —Å–ª–æ–≤ (2 –±–∞–π—Ç–∞ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç)
    arr3 dd 1000, 2000, 3000     ; –ú–∞—Å—Å–∏–≤ –¥–≤–æ–π–Ω—ã—Ö —Å–ª–æ–≤ (4 –±–∞–π—Ç–∞)
    arr4 dq 10000, 20000, 30000  ; –ú–∞—Å—Å–∏–≤ –∫–≤–∞–¥—Ä–æ—Å–ª–æ–≤ (8 –±–∞–π—Ç)

section .bss
    buffer resb 16   ; –í—ã–¥–µ–ª–µ–Ω–∏–µ 16 –±–∞–π—Ç –ø–∞–º—è—Ç–∏ (–º–∞—Å—Å–∏–≤ –Ω–∞ 16 —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
    arr5   resw 10   ; –ú–∞—Å—Å–∏–≤ –Ω–∞ 10 —Å–ª–æ–≤ (–ø–æ 2 –±–∞–π—Ç–∞)
```

---

## **2. –î–æ—Å—Ç—É–ø –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º –º–∞—Å—Å–∏–≤–∞**
–¢–∞–∫ –∫–∞–∫ –º–∞—Å—Å–∏–≤—ã ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±–∞–π—Ç–æ–≤ –≤ –ø–∞–º—è—Ç–∏, –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —ç–ª–µ–º–µ–Ω—Ç—É –∏—Å–ø–æ–ª—å–∑—É—é—Ç **–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é —á–µ—Ä–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä—ã**.

### **2.1. –î–æ—Å—Ç—É–ø –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º –ø–æ –∏–Ω–¥–µ–∫—Å—É**
#### **C-–∫–æ–¥:**  
```c
char arr[] = {10, 20, 30, 40, 50};
char x = arr[2];  // 30
```

#### **NASM:**  
```assembly
mov rsi, arr1  ; –ê–¥—Ä–µ—Å –º–∞—Å—Å–∏–≤–∞
mov al, [rsi + 2]  ; –ß–∏—Ç–∞–µ–º arr1[2] (–±–∞–π—Ç)
```
üìå `rsi + 2` –æ–∑–Ω–∞—á–∞–µ—Ç **—Å–º–µ—â–µ–Ω–∏–µ –Ω–∞ 2 –±–∞–π—Ç–∞ –æ—Ç –Ω–∞—á–∞–ª–∞ –º–∞—Å—Å–∏–≤–∞**.

---

### **2.2. –ò—Ç–µ—Ä–∞—Ü–∏—è –ø–æ –º–∞—Å—Å–∏–≤—É**
#### **C-–∫–æ–¥:**  
```c
char arr[] = {10, 20, 30, 40, 50};
for (int i = 0; i < 5; i++) {
    sum += arr[i];
}
```

#### **NASM:**  
```assembly
section .data
    arr db 10, 20, 30, 40, 50
    sum dq 0

section .text
    global _start
_start:
    mov rsi, arr    ; –ê–¥—Ä–µ—Å –º–∞—Å—Å–∏–≤–∞
    mov rcx, 5      ; –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
    xor rax, rax    ; sum = 0

.loop:
    add al, [rsi]   ; –î–æ–±–∞–≤–ª—è–µ–º arr[i] –∫ sum
    inc rsi         ; –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É
    loop .loop      ; cx-- –∏ –ø–µ—Ä–µ—Ö–æ–¥, –µ—Å–ª–∏ cx ‚â† 0

    mov [sum], rax  ; –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

    mov rax, 60     ; sys_exit
    xor rdi, rdi
    syscall
```
üìå –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `loop` (—É–º–µ–Ω—å—à–∞–µ—Ç `rcx` –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç, –µ—Å–ª–∏ –Ω–µ 0).

---

## **3. –î–æ—Å—Ç—É–ø –∫ –º–Ω–æ–≥–æ–±–∞–π—Ç–æ–≤—ã–º —ç–ª–µ–º–µ–Ω—Ç–∞–º**
–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –º–∞—Å—Å–∏–≤–∞–º–∏ **—Å–ª–æ–≤ (`dw`), –¥–≤–æ–π–Ω—ã—Ö —Å–ª–æ–≤ (`dd`) –∏ –∫–≤–∞–¥—Ä–æ—Å–ª–æ–≤ (`dq`)** –Ω—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä —ç–ª–µ–º–µ–Ω—Ç–∞:

| –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö | –†–∞–∑–º–µ—Ä (–±–∞–π—Ç) | –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è |
|------------|--------------|------------|
| `db` (byte) | 1 | `arr + i` |
| `dw` (word) | 2 | `arr + i*2` |
| `dd` (dword) | 4 | `arr + i*4` |
| `dq` (qword) | 8 | `arr + i*8` |

### **3.1. –ß—Ç–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ `dw`**
```assembly
mov rsi, arr2  ; –ê–¥—Ä–µ—Å –º–∞—Å—Å–∏–≤–∞
mov ax, [rsi + 2*2]  ; –ß–∏—Ç–∞–µ–º arr2[2] (300)
```

### **3.2. –ß—Ç–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ `dd`**
```assembly
mov rsi, arr3  ; –ê–¥—Ä–µ—Å –º–∞—Å—Å–∏–≤–∞
mov eax, [rsi + 2*4]  ; –ß–∏—Ç–∞–µ–º arr3[2] (3000)
```

---

## **4. –ó–∞–ø–∏—Å—å –≤ –º–∞—Å—Å–∏–≤**
#### **C-–∫–æ–¥:**  
```c
arr[3] = 77;
```

#### **NASM:**  
```assembly
mov rsi, arr
mov byte [rsi + 3], 77  ; arr[3] = 77
```

–î–ª—è –º–Ω–æ–≥–æ–±–∞–π—Ç–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤:
```assembly
mov rsi, arr2
mov word [rsi + 2*2], 77  ; arr2[2] = 77
```

---

## **5. –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞**
–ò—Å–ø–æ–ª—å–∑—É–µ–º `rep movsX`, –≥–¥–µ `X` ‚Äî `b` (–±–∞–π—Ç), `w` (—Å–ª–æ–≤–æ), `d` (–¥–≤–∞ —Å–ª–æ–≤–∞).

#### **C-–∫–æ–¥ (`memcpy`)**  
```c
char src[] = "Hello";
char dst[6];
memcpy(dst, src, 6);
```

#### **NASM:**  
```assembly
section .data
    src db "Hello", 0

section .bss
    dst resb 6

section .text
    global _start
_start:
    mov rsi, src
    mov rdi, dst
    mov rcx, 6
    rep movsb   ; –ö–æ–ø–∏—Ä—É–µ–º 6 –±–∞–π—Ç–æ–≤

    mov rax, 60
    xor rdi, rdi
    syscall
```

---

## **6. –î–≤—É–º–µ—Ä–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã**
–í –∞—Å—Å–µ–º–±–ª–µ—Ä–µ –¥–≤—É–º–µ—Ä–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–æ–±–æ–π **–æ–¥–Ω–æ–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤ —Å —É—á—ë—Ç–æ–º —Å—Ç—Ä–æ–∫**.

#### **C-–∫–æ–¥:**  
```c
int arr[3][4] = {
    {1, 2, 3, 4},
    {5, 6, 7, 8},
    {9, 10, 11, 12}
};
int x = arr[2][1];  // 10
```

#### **NASM:**  
```assembly
section .data
    arr dd 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12

section .text
    global _start
_start:
    mov rsi, arr       ; –ê–¥—Ä–µ—Å –º–∞—Å—Å–∏–≤–∞
    mov eax, [rsi + (2*4*4) + (1*4)]  ; arr[2][1] = 10
```
üìå –°–º–µ—â–µ–Ω–∏–µ `row * stride + col * sizeof(int)`.  
–ó–¥–µ—Å—å `stride = 4` (—á–∏—Å–ª–æ –∫–æ–ª–æ–Ω–æ–∫), `sizeof(int) = 4`.

---

## **–í—ã–≤–æ–¥**
1. –ú–∞—Å—Å–∏–≤ ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ **–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –≤ –ø–∞–º—è—Ç–∏**.
2. –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç **—Ä–∞–∑–º–µ—Ä–∞ —Ç–∏–ø–∞** (`db`, `dw`, `dd`, `dq`).
3. –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Å—Å–∏–≤–æ–≤ —É–ø—Ä–æ—â–∞–µ—Ç—Å—è —Å `rep movsX`.
4. –î–≤—É–º–µ—Ä–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã —Ö—Ä–∞–Ω—è—Ç—Å—è **–ø–æ—Å—Ç—Ä–æ—á–Ω–æ**, –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ `row * stride + col * size`.

### **–ê–¥—Ä–µ—Å–∞—Ü–∏—è –ø–∞–º—è—Ç–∏, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –∞–¥—Ä–µ—Å, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è LEA**  

---

## **1. –ê–¥—Ä–µ—Å–∞—Ü–∏—è –ø–∞–º—è—Ç–∏ –≤ x86-64**  

–ê–¥—Ä–µ—Å –ø–∞–º—è—Ç–∏ –º–æ–∂–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ:  
```assembly
[Base + Index * Scale + Offset]
```
–≥–¥–µ:  
- `Base` ‚Äî –±–∞–∑–æ–≤—ã–π —Ä–µ–≥–∏—Å—Ç—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, `rbp`, `rsp`, `rsi`),  
- `Index` ‚Äî –∏–Ω–¥–µ–∫—Å–Ω—ã–π —Ä–µ–≥–∏—Å—Ç—Ä (–æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –º–∞—Å—Å–∏–≤–∞—Ö),  
- `Scale` ‚Äî –º–Ω–æ–∂–∏—Ç–µ–ª—å (1, 2, 4 –∏–ª–∏ 8 ‚Äî —Ä–∞–∑–º–µ—Ä —ç–ª–µ–º–µ–Ω—Ç–∞ –º–∞—Å—Å–∏–≤–∞),  
- `Offset` ‚Äî —Å–º–µ—â–µ–Ω–∏–µ (–∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞).  

–ü—Ä–∏–º–µ—Ä—ã:  
- `[rbp - 4]` ‚Äî –¥–æ—Å—Ç—É–ø –∫ –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤ —Å—Ç–µ–∫–µ.  
- `[rsi + rdx * 4]` ‚Äî –¥–æ—Å—Ç—É–ø –∫ —ç–ª–µ–º–µ–Ω—Ç—É –º–∞—Å—Å–∏–≤–∞ (`rdx` ‚Äî –∏–Ω–¥–µ–∫—Å, `4` ‚Äî —Ä–∞–∑–º–µ—Ä `int`).  

---

## **2. –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è `LEA` (Load Effective Address)**  

`LEA` –∑–∞–≥—Ä—É–∂–∞–µ—Ç **–∞–¥—Ä–µ—Å** –≤—ã—Ä–∞–∂–µ–Ω–∏—è, –∞ –Ω–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –Ω–µ–º—É.  

–§–æ—Ä–º–∞—Ç:  
```assembly
LEA dst, [Base + Index * Scale + Offset]
```
–û—Ç–ª–∏—á–∏–µ –æ—Ç `MOV`:  
- `MOV rax, [rbx]` –∑–∞–≥—Ä—É–∂–∞–µ—Ç **–∑–Ω–∞—á–µ–Ω–∏–µ** –ø–æ –∞–¥—Ä–µ—Å—É `rbx`,  
- `LEA rax, [rbx]` –∑–∞–≥—Ä—É–∂–∞–µ—Ç **—Å–∞–º –∞–¥—Ä–µ—Å** `rbx` –≤ `rax`.  

---

## **3. –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `LEA`**  

### **3.1. –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞ –º–∞—Å—Å–∏–≤–∞**  

#### **C-–∫–æ–¥:**  
```c
int arr[5] = {1, 2, 3, 4, 5};
int *p = &arr[2];
```

#### **NASM:**  
```assembly
section .data
    arr dd 1, 2, 3, 4, 5  ; –ú–∞—Å—Å–∏–≤ int[5]

section .text
    global _start
_start:
    mov rsi, arr         ; –ê–¥—Ä–µ—Å –º–∞—Å—Å–∏–≤–∞
    lea rdi, [rsi + 8]   ; p = &arr[2] (2 * 4 –±–∞–π—Ç–∞)
```
üìå `LEA` –ø—Ä–∏–±–∞–≤–ª—è–µ—Ç 8 –±–∞–π—Ç –∫ `rsi` (—Ä–∞–∑–º–µ—Ä `int` = 4, `2*4 = 8`).

---

### **3.2. –£–º–Ω–æ–∂–µ–Ω–∏–µ –±–µ–∑ `IMUL` (–±—ã—Å—Ç—Ä–æ–µ —Å–ª–æ–∂–µ–Ω–∏–µ)**  

#### **C-–∫–æ–¥:**  
```c
int x = a * 5;
```

#### **NASM (–±–µ–∑ `IMUL`)**  
```assembly
section .data
    a dd 3  ; –ò—Å—Ö–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ a

section .text
    global _start
_start:
    mov rdi, [a]              ; –ó–∞–≥—Ä—É–∂–∞–µ–º a
    lea rax, [rdi + rdi * 4]  ; rax = rdi * 5
```
üìå `rdi * 5` –∑–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ `rdi + rdi * 4` (–±—ã—Å—Ç—Ä–µ–µ, —á–µ–º `IMUL`).

---

### **3.3. –°–º–µ—â–µ–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ**  

#### **C-–∫–æ–¥:**  
```c
struct Point { int x, y; };
struct Point p;
int *py = &p.y;
```

#### **NASM:**  
```assembly
section .bss
    p resq 1  ; –í—ã–¥–µ–ª—è–µ–º –ø–∞–º—è—Ç—å –ø–æ–¥ —Å—Ç—Ä—É–∫—Ç—É—Ä—É

section .text
    global _start
_start:
    lea rdi, [p + 4]  ; –ê–¥—Ä–µ—Å `p.y` (—Å–º–µ—â–µ–Ω–∏–µ 4 –±–∞–π—Ç–∞ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ)
```
üìå `p.y` —Å–º–µ—â—ë–Ω –Ω–∞ `+4` –±–∞–π—Ç–∞ (—Ä–∞–∑–º–µ—Ä `int`).

---

### **3.4. –ê–¥—Ä–µ—Å —Å—Ç—Ä–æ–∫–∏**  

#### **C-–∫–æ–¥:**  
```c
char *s = "Hello";
char *p = s + 2;
```

#### **NASM:**  
```assembly
section .data
    s db "Hello", 0  ; –°—Ç—Ä–æ–∫–∞ —Å –Ω—É–ª–µ–≤—ã–º —Ç–µ—Ä–º–∏–Ω–∞—Ç–æ—Ä–æ–º

section .text
    global _start
_start:
    lea rdi, [s + 2]  ; p = s + 2
```
üìå `rdi` –ø–æ–ª—É—á–∞–µ—Ç –∞–¥—Ä–µ—Å `"l"` –≤ —Å—Ç—Ä–æ–∫–µ `"Hello"`.

---

### **–í—ã–≤–æ–¥:**  
- `LEA` –∑–∞–≥—Ä—É–∂–∞–µ—Ç **–∞–¥—Ä–µ—Å**, –∞ –Ω–µ –¥–∞–Ω–Ω—ã–µ.  
- –ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤–º–µ—Å—Ç–æ —É–º–Ω–æ–∂–µ–Ω–∏—è (`lea rax, [rdi + rdi*4]`).  
- –£–¥–æ–±–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–∞—Å—Å–∏–≤–∞–º–∏, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ –∏ —Å—Ç—Ä–æ–∫–∞–º–∏.

  ### **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ `MOVSB`, `MOVSW`, `MOVSD`**  

–≠—Ç–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è **–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö** –∏–∑ –ø–∞–º—è—Ç–∏ –≤ –ø–∞–º—è—Ç—å —Å —É—á—ë—Ç–æ–º —Ä–∞–∑–º–µ—Ä–∞ –æ–ø–µ—Ä–∞–Ω–¥–∞.

---

## **1. –û–±—â–∏–π –ø—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã**  
–ö–∞–∂–¥–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∫–æ–ø–∏—Ä—É–µ—Ç **–æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç** –∏–∑ `[rsi]` –≤ `[rdi]` –∏ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–º–µ–Ω—è–µ—Ç** —Ä–µ–≥–∏—Å—Ç—Ä—ã `rsi` –∏ `rdi` –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ñ–ª–∞–≥–∞ `DF` (Direction Flag):
- `DF = 0` (–æ–±—ã—á–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ) ‚Üí `rsi` –∏ `rdi` —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç—Å—è.
- `DF = 1` (–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ) ‚Üí `rsi` –∏ `rdi` —É–º–µ–Ω—å—à–∞—é—Ç—Å—è.  

–î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:  
```assembly
CLD   ; DF = 0, –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–ø–µ—Ä—ë–¥
STD   ; DF = 1, –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–∑–∞–¥
```

---

## **2. –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –∏—Ö —Ä–∞–∑–º–µ—Ä –æ–ø–µ—Ä–∞–Ω–¥–∞**  
| –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è | –†–∞–∑–º–µ—Ä –∫–æ–ø–∏—Ä—É–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö | –°–º–µ—â–µ–Ω–∏–µ `rsi` –∏ `rdi` (DF=0) |
|------------|--------------------------|------------------------------|
| `MOVSB`    | 1 –±–∞–π—Ç  (`byte`)         | +1                           |
| `MOVSW`    | 2 –±–∞–π—Ç–∞ (`word`)         | +2                           |
| `MOVSD`    | 4 –±–∞–π—Ç–∞ (`dword`)        | +4                           |
| `MOVSQ`    | 8 –±–∞–π—Ç–æ–≤ (`qword`)       | +8 (x86-64)                  |

üìå **`MOVSQ`** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ –≤ x86-64**.

---

## **3. –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**  

### **3.1. –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ (–±–∞–π—Ç –∑–∞ –±–∞–π—Ç–æ–º, `MOVSB`)**  

#### **C-–∫–æ–¥:**  
```c
char src[] = "Hello";
char dst[6];  // –†–∞–∑–º–µ—Ä —Å —É—á—ë—Ç–æ–º '\0'
for (int i = 0; src[i] != '\0'; i++) {
    dst[i] = src[i];
}
```

#### **NASM:**  
```assembly
section .data
    src db "Hello", 0  ; –ò—Å—Ö–æ–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞

section .bss
    dst resb 6         ; –ë—É—Ñ–µ—Ä –¥–ª—è –∫–æ–ø–∏–∏ —Å—Ç—Ä–æ–∫–∏

section .text
    global _start
_start:
    mov rsi, src       ; –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫
    mov rdi, dst       ; –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –ø—Ä–∏—ë–º–Ω–∏–∫
    cld                ; DF = 0 (–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–ø–µ—Ä—ë–¥)

.loop:
    lodsb              ; –ó–∞–≥—Ä—É–∂–∞–µ–º –±–∞–π—Ç –∏–∑ [rsi] –≤ AL, rsi++
    stosb              ; –ó–∞–ø–∏—Å—ã–≤–∞–µ–º AL –≤ [rdi], rdi++
    test al, al        ; –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –∫–æ–Ω–µ—Ü —Å—Ç—Ä–æ–∫–∏ ('\0')
    jnz .loop          ; –ï—Å–ª–∏ –Ω–µ –Ω—É–ª–µ–≤–æ–π, –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º

    mov rax, 60        ; –ó–∞–≤–µ—Ä—à–∞–µ–º –ø—Ä–æ–≥—Ä–∞–º–º—É (sys_exit)
    xor rdi, rdi
    syscall
```
üìå –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è `LODSB` (–∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ `rsi` –≤ `al`) –∏ `STOSB` (–∑–∞–ø–∏—Å—å `al` –≤ `rdi`), –Ω–æ –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –∏—Ö –Ω–∞ `MOVSB` —Å `rep`.

---

### **3.2. –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞ —Å–ª–æ–≤ (`MOVSW`)**  

#### **C-–∫–æ–¥:**  
```c
uint16_t src[] = {1, 2, 3, 4, 5};
uint16_t dst[5];
memcpy(dst, src, 10);
```

#### **NASM:**  
```assembly
section .data
    src dw 1, 2, 3, 4, 5  ; –ò—Å—Ö–æ–¥–Ω—ã–π –º–∞—Å—Å–∏–≤

section .bss
    dst resw 5  ; –ú–µ—Å—Ç–æ –ø–æ–¥ –∫–æ–ø–∏—é

section .text
    global _start
_start:
    mov rsi, src      ; –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫
    mov rdi, dst      ; –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –ø—Ä–∏—ë–º–Ω–∏–∫
    mov rcx, 5        ; –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ–≤
    cld               ; DF = 0 (–æ–±—ã—á–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ)

    rep movsw         ; –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ `cx` —Å–ª–æ–≤

    mov rax, 60       ; sys_exit
    xor rdi, rdi
    syscall
```
üìå `rep movsw` –∫–æ–ø–∏—Ä—É–µ—Ç `rcx` —Å–ª–æ–≤ (`2 –±–∞–π—Ç–∞` –∫–∞–∂–¥–æ–µ).

---

### **3.3. –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞ —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª (`MOVSD`)**  

#### **C-–∫–æ–¥:**  
```c
int src[] = {10, 20, 30, 40, 50};
int dst[5];
memcpy(dst, src, 20);
```

#### **NASM:**  
```assembly
section .data
    src dd 10, 20, 30, 40, 50  ; –ò—Å—Ö–æ–¥–Ω—ã–π –º–∞—Å—Å–∏–≤

section .bss
    dst resd 5  ; –ú–µ—Å—Ç–æ –ø–æ–¥ –∫–æ–ø–∏—é

section .text
    global _start
_start:
    mov rsi, src      ; –ê–¥—Ä–µ—Å –∏—Å—Ç–æ—á–Ω–∏–∫–∞
    mov rdi, dst      ; –ê–¥—Ä–µ—Å –ø—Ä–∏—ë–º–Ω–∏–∫–∞
    mov rcx, 5        ; –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ dword
    cld               ; DF = 0 (–æ–±—ã—á–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ)

    rep movsd         ; –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ `rcx` dword

    mov rax, 60       ; sys_exit
    xor rdi, rdi
    syscall
```
üìå `rep movsd` –∫–æ–ø–∏—Ä—É–µ—Ç `rcx` —ç–ª–µ–º–µ–Ω—Ç–æ–≤ `int` (4 –±–∞–π—Ç–∞ –∫–∞–∂–¥—ã–π).

---

### **4. –í—ã–≤–æ–¥**  
- `MOVSB` ‚Äî –ø–æ—Å–∏–º–≤–æ–ª—å–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ (1 –±–∞–π—Ç).  
- `MOVSW` ‚Äî –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ 2-–±–∞–π—Ç–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (`short`).  
- `MOVSD` ‚Äî –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ 4-–±–∞–π—Ç–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (`int`).  
- `MOVSQ` (x86-64) ‚Äî –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ 8-–±–∞–π—Ç–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (`long`).  
- **–¶–∏–∫–ª—ã `rep movsX` –ø–æ–∑–≤–æ–ª—è—é—Ç –±—ã—Å—Ç—Ä–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –º–∞—Å—Å–∏–≤—ã.**

## **–°—Ç—Ä–æ–∫–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ NASM (x86-64)**  
–°—Ç—Ä–æ–∫–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ (`LODSB`, `STOSB`, `CMPSB`, `SCASB`) —É–ø—Ä–æ—â–∞—é—Ç —Ä–∞–±–æ—Ç—É —Å –º–∞—Å—Å–∏–≤–∞–º–∏ –∏ —Å—Ç—Ä–æ–∫–∞–º–∏, –∏—Å–ø–æ–ª—å–∑—É—è —Ä–µ–≥–∏—Å—Ç—Ä—ã `rsi` (–∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ) –∏ `rdi` (–ø—Ä–∏—ë–º–Ω–∏–∫).

---

## **1. LODSB ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –±–∞–π—Ç–∞ –∏–∑ –ø–∞–º—è—Ç–∏**  
üîπ **–ó–∞–≥—Ä—É–∂–∞–µ—Ç –±–∞–π—Ç –∏–∑ `[rsi]` –≤ `al` –∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç `rsi`**  
–ê–Ω–∞–ª–æ–≥–∏ –¥–ª—è —Å–ª–æ–≤ (`LODSW`), –¥–≤–æ–π–Ω—ã—Ö —Å–ª–æ–≤ (`LODSD`), –∫–≤–∞–¥—Ä–æ—Å–ª–æ–≤ (`LODSQ`).

### **–ü—Ä–∏–º–µ—Ä** (—á—Ç–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –ø–æ–±–∞–π—Ç–æ–≤–æ)  
#### **C-–∫–æ–¥:**  
```c
char str[] = "Hello";
char c = str[0];  // 'H'
```
#### **NASM:**  
```assembly
section .data
    str db "Hello", 0

section .text
    global _start
_start:
    mov rsi, str    ; –ê–¥—Ä–µ—Å —Å—Ç—Ä–æ–∫–∏
    lodsb           ; –ó–∞–≥—Ä—É–∂–∞–µ–º 1 –±–∞–π—Ç –≤ AL (–±—É–¥–µ—Ç 'H')

    mov rax, 60     ; sys_exit
    xor rdi, rdi
    syscall
```
üìå `rsi` —É–≤–µ–ª–∏—á–∏—Ç—Å—è –Ω–∞ 1 (–µ—Å–ª–∏ `DF=0`, –∏–Ω–∞—á–µ —É–º–µ–Ω—å—à–∏—Ç—Å—è).

---

## **2. STOSB ‚Äî –∑–∞–ø–∏—Å—å –±–∞–π—Ç–∞ –≤ –ø–∞–º—è—Ç—å**  
üîπ **–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç `al` –≤ `[rdi]`, —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç `rdi`**  
–ê–Ω–∞–ª–æ–≥–∏: `STOSW`, `STOSD`, `STOSQ`.

### **–ü—Ä–∏–º–µ—Ä** (–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞ –∑–Ω–∞—á–µ–Ω–∏–µ–º)  
#### **C-–∫–æ–¥:**  
```c
char arr[5];
for (int i = 0; i < 5; i++) arr[i] = 'A';
```
#### **NASM:**  
```assembly
section .bss
    buffer resb 5   ; 5 –±–∞–π—Ç–æ–≤—ã–π –º–∞—Å—Å–∏–≤

section .text
    global _start
_start:
    mov rdi, buffer ; –ö—É–¥–∞ –ø–∏—Å–∞—Ç—å
    mov rcx, 5      ; –°–∫–æ–ª—å–∫–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
    mov al, 'A'     ; –ß—Ç–æ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å

.loop:
    stosb           ; –ó–∞–ø–∏—Å–∞—Ç—å AL –≤ [rdi], rdi++
    loop .loop      ; rcx--, –µ—Å–ª–∏ –Ω–µ 0 ‚Äî –ø–æ–≤—Ç–æ—Ä–∏—Ç—å

    mov rax, 60
    xor rdi, rdi
    syscall
```
üìå `rdi` —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å–∏.

---

## **3. CMPSB ‚Äî —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –±–∞–π—Ç–æ–≤**  
üîπ **–°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç `[rsi]` –∏ `[rdi]`, –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ñ–ª–∞–≥–∏, —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç `rsi` –∏ `rdi`**  
–ê–Ω–∞–ª–æ–≥–∏: `CMPSW`, `CMPSD`, `CMPSQ`.

### **–ü—Ä–∏–º–µ—Ä** (—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫)  
#### **C-–∫–æ–¥:**  
```c
strcmp("abc", "abc");  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0
strcmp("abc", "abd");  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç -1
```
#### **NASM:**  
```assembly
section .data
    str1 db "abc", 0
    str2 db "abd", 0

section .text
    global _start
_start:
    mov rsi, str1
    mov rdi, str2

.compare:
    lodsb           ; AL = *rsi++
    scasb           ; –°—Ä–∞–≤–Ω–∏—Ç—å AL —Å *rdi++ (ZF=1, –µ—Å–ª–∏ —Ä–∞–≤–Ω—ã)
    jnz .not_equal  ; –ï—Å–ª–∏ –Ω–µ —Ä–∞–≤–Ω—ã, –≤—ã—Ö–æ–¥

    test al, al     ; –ö–æ–Ω–µ—Ü —Å—Ç—Ä–æ–∫–∏?
    jnz .compare    ; –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º

    mov rax, 0      ; –†–∞–≤–Ω—ã (strcmp –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0)
    jmp .done

.not_equal:
    mov rax, -1     ; –ù–µ —Ä–∞–≤–Ω—ã

.done:
    mov rax, 60
    xor rdi, rdi
    syscall
```
üìå `ZF=1`, –µ—Å–ª–∏ —Å—Ç—Ä–æ–∫–∏ —Ä–∞–≤–Ω—ã.

---

## **4. SCASB ‚Äî –ø–æ–∏—Å–∫ –≤ —Å—Ç—Ä–æ–∫–µ**  
üîπ **–°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç `al` —Å `[rdi]`, —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç `rdi`**  
–ê–Ω–∞–ª–æ–≥–∏: `SCASW`, `SCASD`, `SCASQ`.

### **–ü—Ä–∏–º–µ—Ä** (–ø–æ–∏—Å–∫ —Å–∏–º–≤–æ–ª–∞ –≤ —Å—Ç—Ä–æ–∫–µ)  
#### **C-–∫–æ–¥:**  
```c
char *p = strchr("hello", 'e');
```
#### **NASM:**  
```assembly
section .data
    str db "hello", 0

section .text
    global _start
_start:
    mov rdi, str    ; –ê–¥—Ä–µ—Å —Å—Ç—Ä–æ–∫–∏
    mov rcx, 5      ; –î–ª–∏–Ω–∞ —Å—Ç—Ä–æ–∫–∏
    mov al, 'e'     ; –ß—Ç–æ –∏—â–µ–º

.search:
    scasb           ; AL - [rdi], rdi++
    je .found       ; –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ ‚Äî –≤—ã—Ö–æ–¥
    loop .search    ; rcx--, –µ—Å–ª–∏ –Ω–µ 0 ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å

    mov rdi, 0      ; –ù–µ –Ω–∞–π–¥–µ–Ω–æ
    jmp .done

.found:
    sub rdi, 1      ; rdi —É–∫–∞–∑—ã–≤–∞–µ—Ç –∑–∞ —Å–∏–º–≤–æ–ª, –æ—Ç–∫–∞—Ç—ã–≤–∞–µ–º

.done:
    mov rax, 60
    xor rdi, rdi
    syscall
```
üìå –ï—Å–ª–∏ `ZF=1`, `rdi` —É–∫–∞–∑—ã–≤–∞–µ—Ç **–Ω–∞ –Ω–∞–π–¥–µ–Ω–Ω—ã–π —Å–∏–º–≤–æ–ª**.

---

## **–í—ã–≤–æ–¥**  
| –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è | –î–µ–π—Å—Ç–≤–∏–µ |
|------------|---------|
| `LODSB` | –ó–∞–≥—Ä—É–∂–∞–µ—Ç –±–∞–π—Ç `[rsi]` –≤ `al`, `rsi++` |
| `STOSB` | –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç `al` –≤ `[rdi]`, `rdi++` |
| `CMPSB` | –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç `[rsi]` –∏ `[rdi]`, `rsi++`, `rdi++` |
| `SCASB` | –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç `al` –∏ `[rdi]`, `rdi++` |

‚ö° **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `rep` –ø–µ—Ä–µ–¥ `CMPSB` –∏ `SCASB` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è.

